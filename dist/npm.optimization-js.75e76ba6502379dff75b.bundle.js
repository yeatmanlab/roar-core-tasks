(self.webpackChunk_bdelab_roar_levantecore_tasks=self.webpackChunk_bdelab_roar_levantecore_tasks||[]).push([[97],{nbjq:t=>{function n(t,n){this.low=t,this.high=n,this.random_sample=function(){return Math.random()*(this.high-this.low)+this.low}}function r(t,n){this.low=t,this.high=n,this.random_sample=function(){var t=Math.random()*(this.high-this.low)+this.low;return Math.round(t)}}function i(t){this.categories=t,this.random_sample=function(){var t=this.categories.length,n=Math.round(Math.random()*(t-1));return this.categories[n]}}function s(t){this.dimensions=t,this.rsv=function(t){for(var n=[],r=0;r<t;r++){var i=[];for(var s of this.dimensions)i.push(s.random_sample());n.push(i)}return n}}function e(n){this.space=t.exports.to_space(n),this.X=[],this.Y=[],this.best_x=null,this.best_y=null,this.ask=function(t=null){return null==t?this.space.rsv(1)[0]:this.space.rsv(t)},this.tell=function(t,n){for(var r=0;r<t.length;r++)(null==this.best_y||n[r]<this.best_y)&&(this.best_y=n[r],this.best_x=t[r]);this.X=this.X.concat(t),this.Y=this.Y.concat(n)}}function a(s,e=13,a=.1){this.space=t.exports.to_space(s),this.n_random_starts=e,this.mutation_rate=a,this.n_random_starts_=e,this.X=[],this.Y=[],this.best_x=null,this.best_y=null,this.rnd=function(t=null){return null==t&&(t=this.mutation_rate),Math.random()<t},this.ask=function(){if(this.n_random_starts_>0)return this.space.rsv(1)[0];for(finished=!1;!finished;){for(var t=[],s=this.X[0],e=this.Y[0],a=1;a<this.Y.length;a++)this.Y[a]<e&&(s=this.X[a],e=this.Y[a]);for(a=0;a<this.space.dimensions.length;a++){var o=s[a],h=this.space.dimensions[a];if(h instanceof i&&this.rnd()){var f=Math.round(Math.random()*(h.categories.length-1));o=h.categories[f],finished=!0}if((h instanceof n||h instanceof r)&&this.rnd()){for(var u=h.low,l=h.high,c=-16;c<=1;c++)this.rnd()&&(finished=!0,this.rnd(.5)?diff=l-o:diff=u-o,o+=diff*Math.pow(2,c));o<u&&(o=u),o>l&&(o=l),h instanceof r&&(o=Math.round(o))}t.push(o)}}return t},this.tell=function(t,n){for(var r=0;r<t.length;r++)this.n_random_starts_-=1,(null==this.best_y||n[r]<this.best_y)&&(this.best_y=n[r],this.best_x=t[r]);this.n_random_starts_<0&&(this.n_random_starts_=0),this.X=this.X.concat(t),this.Y=this.Y.concat(n)}}function o(t){for(var n=[],r=0;r<t.length;r++)n.push(r);for(r=0;r<t.length;r++){var i=Math.floor(Math.random()*r),s=n[r];n[r]=n[i],n[i]=s}return n}function h(t,n){for(var r=0,i=0;i<t.length;i++)r+=t[i]*n[i];return r}function f(t,n){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=t[i]-n[i];return r}function u(t,n,r){for(var i=0;i<t.length;i++)t[i]=t[i]+n*r[i];return t}function l(t,n){for(var r=0;r<t.length;r++)if(Math.abs(t[r])>=n)return!1;return!0}t.exports.Real=function(t,r){return new n(t,r)},t.exports.Integer=function(t,n){return new r(t,n)},t.exports.Categorical=function(t){return new i(t)},t.exports.Space=function(t){return new s(t)},t.exports.to_space=function(n){if(n instanceof Array)return t.exports.Space(n);if(n instanceof s)return n;throw"Unknown space definition"},t.exports.RandomOptimizer=function(t){return new e(t)},t.exports.OMGOptimizer=function(t,n=13,r=.1){return new a(t,n,r)},t.exports.dummy_minimize=function(n,r,i=64){for(var s=t.exports.RandomOptimizer(r),e=0;e<i;e++){var a=s.ask(),o=n(a);s.tell([a],[o])}return s},t.exports.rs_minimize=function(n,r,i=64,s=13,e=.1){for(var a=t.exports.OMGOptimizer(r,s,e),o=0;o<i;o++){var h=a.ask(),f=n(h);a.tell([h],[f])}return a},t.exports.minimize_Powell=function(t,n,r=.01,i=.001){for(var s=!1,e=n.slice(),a=Math.exp(10),h=t(e),f=1;!s;){var u=o(e);s=!0;for(var l=0;l<u.length;l++){e[u[l]]+=1e-6;var c=t(e);e[u[l]]-=1e-6;var p=(c-h)/1e-6;Math.abs(p)>r&&(s=!1),e[u[l]]=e[u[l]]-i*p,h=t(e)}i=a>h?1.1*i:.7*i,a=h,0==--f&&(f=1)}var v={};return v.argument=e,v.fncvalue=h,v},t.exports.minimize_GradientDescent=function(t,n,r){for(var i=r.slice(),s=!1,e=.01,a=t(i);!s;){var o=n(i);if(s=l(o,.001))break;for(var h=!0;h;){var f=i.slice();u(f,-e,o);var c=t(f);e=(h=a<c)?.7*e:1.1*e}i=f,a=c}var p={};return p.argument=i,p.fncvalue=c,p},t.exports.minimize_L_BFGS=function(t,n,r){for(var i=r.slice(),s=.001,e=t(i),a=[],o=[],c=[],p=n(i),v=p.slice();;){var _=i.slice();u(_,s,v);var m=t(_);s=e<m?.5*s:1.2*s;var d=n(_);if(l(d,1e-5))break;var g=f(_,i),b=f(d,p);a.unshift(g),o.unshift(b);var x=1/h(g,b);c.unshift(x),a.length>5&&(a.pop(),o.pop(),c.pop());for(var w=p.slice(),M=new Array(a.length),k=0;k<a.length;k++){var y=1/h(a[k],o[k]);M[k]=y*h(a[k],w),u(w,-M[k],o[k])}var Y=h(g,b)/h(b,b);for(k=0;k<w.length;k++)w[k]=w[k]*Y;for(k=0;k<a.length;k++){var z=a.length-k-1,X=1/h(a[z],o[z])*h(o[z],w);u(w,M[z]-X,a[z])}for(v=w.slice(),k=0;k<v.length;k++)v[k]=-v[k];e=m,i=_,p=d}var O={};return O.argument=i,O.fncvalue=m,O}}}]);
//# sourceMappingURL=npm.optimization-js.75e76ba6502379dff75b.bundle.js.map